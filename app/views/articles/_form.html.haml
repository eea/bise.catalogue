
= simple_form_for(@article) do |f|


    %ul.nav.nav-tabs
        %li.active
            %a{ :data => { :article => '#general' } } General
        %li
            %a{ :data => { :article => '#geographic' } } Geographic
        %li
            %a{ :data => { :article => '#thesaurus' } } Thesaurus (GEMET)
        %li
            %a{ :data => { :article => '#ecosystems' } } Ecosystems Assessments

    .nav-container
        %section
            %article#general
                .row
                    .span12
                        = f.input :title, :placeholder => 'Example Article' , :input_html => { :class => "span8" }

                .row
                    .span6
                        = f.association :site #, :input_html => { :class => "input-xxlarge"}
                    .span6
                        = f.input :language, :as => :select, :collection => languages, include_blank: true
                %hr{ :style => 'margin-top:0' }

                .row
                    .span6

                        / = f.input :title, :placeholder => 'Example Document' # , :input_html => { :class => "span6" }
                        = f.input :author, :as => :string, :placeholder => 'John Doe' # , :input_html => { :class => "span6" }
                        = f.input :source_url, :as => :string, :placeholder => 'http://example.eu' # , :input_html => { :class => "span6" }

                    .span6
                        / .well
                        = f.input :published_on, :wrapper => :prepend do
                            %span.add-on
                                %i.icon-calendar
                            = f.input_field :published_on, :as => :string, :class => 'input-small'
                        = f.input :published, :wrapper => :toggle do
                            = f.check_box :published


                .row
                    .span12
                        = f.input :content, :as => :text, :input_html => { :class => "span8 tinymce" }

            %article#geographic.hide{ :style => 'padding-left: 20px; padding-right: 20px' }
                .row-fluid
                    .span6
                        / = f.input :geographical_coverage, :as => :select, :collection => countries, include_blank: true #, :input_html => { :class => "input-xlarge"}
                        = f.input :biographical_region, :as => :select, :collection => biographical_regions, include_blank: true #, :input_html => { :class => "input-xlarge"}
                    .span6
                        = render :partial => 'common/countries', :locals => { :parent => @article }




            %article#thesaurus.hide{ :style => 'padding-left: 20px; padding-right: 20px' }
                .row-fluid
                    .span6
                        / .well
                        #filterpane{ :style => 'margin-bottom: 8px;display:none' }
                            %input.string{ :type => 'text', :name => "search", :placeholder => "Filter...", :style => '' }
                            %a.btn#reset &times;
                            %span#matches
                        %div#concepts_tree{ :name => 'concepts', :style => 'height: 400px;', :data => { :selected => @article.concepts.map(&:id) } }
                    .span6
                        .well
                            %div.tag_container{ :style => 'min-height: 150px'}
                                %p
                                    %strong Tags:

            %article#ecosystems.hide
                %h3 Ecosystems (Not implemented)


        %div.form-actions
            = f.submit 'Save', :class => "btn btn-success"
            = link_to "Cancel", articles_path, :class => "btn"


