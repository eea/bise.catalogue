
= simple_form_for(@article) do |f|

    .tabbable

        %ul.nav.nav-tabs
            %li.active
                %a{ :href => '#general', :data => { :toggle => 'tab' } } General
            %li
                %a{ :href => '#geographic', :data => { :toggle => 'tab' } } Geographic
            %li
                %a{ :href => '#related', :data => { :toggle => 'tab' } } Related Resources
            %li
                %a{ :href => '#ecosystems', :data => { :toggle => 'tab' } } Thematic Area

    .tab-content

        #general.tab-pane.active

            .container-fluid

                %legend Info

                .row-fluid
                    .span6
                        = f.association :site , :input_html => { :class => "input-block-level"}
                    .span6
                        = f.input :language, :as => :select, :collection => languages, include_blank: true, :input_html => { :class => "input-block-level" }

                .row-fluid
                    .span6
                        = f.input :title, :placeholder => 'Example Article' , :input_html => { :class => "input-block-level" }
                    .span6

                %legend Publication

                .row-fluid
                    .span6
                        .row-fluid
                            .span4
                                = f.input :published_on, :wrapper => :prepend do
                                    %span.add-on
                                        %i.icon-calendar
                                    = f.input_field :published_on, :as => :string, :class => 'input-small'
                            .span8
                                = f.input :author, :as => :string, :placeholder => 'John Doe' , :input_html => { :class => "input-block-level" }
                    .span6

                .row-fluid
                    .span12
                        = f.input :content, :as => :text, :input_html => { :class => "input-block-level tinymce" }

        #geographic.tab-pane

            = render :partial => 'common/countries', :locals => { :parent => @article }

        #related.tab-pane

            .alert.alert-error
                %button.close{ :type => 'button', :data => { :dismiss => 'alert' } } &times;
                %strong
                    Warning!
                This section is under contruction...

            .container-fluid
                .row-fluid
                    .span6
                        #filterpane{ :style => 'margin-bottom: 8px;display:none' }
                            %input.string{ :type => 'text', :name => "search", :placeholder => "Filter...", :style => '' }
                            %a.btn#reset &times;
                            %span#matches
                        %div#concepts_tree{ :name => 'concepts', :style => 'height: 400px;', :data => { :selected => @article.concepts.map(&:id) } }
                    .span6
                        .well
                            %div.tag_container{ :style => 'min-height: 150px'}
                                %p
                                    %strong Tags:

        #ecosystems.tab-pane
            %h3 Ecosystems (Not implemented)


        %div.form-actions
            = f.submit 'Save', :class => "btn btn-success"
            = link_to "Cancel", articles_path, :class => "btn"


